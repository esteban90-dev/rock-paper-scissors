<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
    </head>
</html>

    <body>
        
        <script>

            function computerSelection(){                               //returns 'rock', 'paper', or 'scissors' randomly.
                let compVal;

                compVal = Math.floor(Math.random()*3) + 1;
                
                switch(compVal){
                    case 1:
                        console.log('Computer chose Rock.');
                        break;

                    case 2:
                        console.log('Computer chose Paper');  
                        break;

                    default:
                        console.log('Computer chose Scissors');  
                }

                return compVal;

            }


            function playerSelection(){                                 //player selects 'rock', 'paper', or 'scissors' - function returns corresponding #

                let userInput;
                let userInputLower;
                let userInputVal;
                let retryFlag;
                
                userInput = prompt('Enter Rock, Paper, or Scissors.');
                userInputLower = userInput.toLowerCase();   

                switch(userInputLower){
                    case 'rock':
                        userInputVal = 1;
                        console.log('Player chose Rock.');
                        break;

                    case 'paper':
                        userInputVal = 2;
                        console.log('Player chose Paper.');
                        break;

                    case 'scissors':
                        userInputVal = 3;
                        console.log('Player chose Scissors.');
                        break;

                    default:
                        console.log('Invalid entry. Try again!');
                        return playerSelection();                       //call the function again until the user gets the input right
                }

                return userInputVal;
            }



            function rockPaperScissors(p1,p2){

                let playerIn = p1;
                let computerIn = p2;

                if ( (playerIn == 1) && (computerIn == 2) ){
                    console.log('Computer wins the round - Paper beats Rock');
                    return 1;
                } 

                else if ( (playerIn == 1) && (computerIn == 3) ){
                    console.log('Player wins the round - Rock beats Scissors');
                    return 2;
                }

                else if ( (playerIn == 2) && (computerIn == 1) ){
                    console.log('Player wins the round - Paper beats Rock');
                    return 2;
                } 

                else if ( (playerIn == 2) && (computerIn == 3) ){
                    console.log('Computer wins the round - Scissors beats Paper');
                    return 1;
                } 

                else if ( (playerIn == 3) && (computerIn == 1) ){
                    console.log('Computer wins the round - Rock beats Scissors');
                    return 1;
                } 

                else if ( (playerIn == 3) && (computerIn == 2) ){
                    console.log('Player wins the round - Scissors beat Paper');
                    return 2;
                }

                else {
                    console.log('Round is a tie');
                    return 3;
                }

            }
                            
            
            function game(p1){

                let numRounds = p1;
                let currentRound = 0;
                let playerPoints = 0;
                let compPoints = 0;
                let tiePoints = 0;
                let playerIn;
                let compIn;
                let result;

                for(x = 0; x < numRounds; x++){

                    currentRound = x + 1;
                    console.log('Round ' + currentRound + ':');
                    result = rockPaperScissors(playerSelection(),computerSelection());

                    if(result  == 1){
                        compPoints = compPoints + 1;
                    }

                    else if(result == 2){
                        playerPoints = playerPoints + 1;
                    }

                    else{
                        tiePoints = tiePoints + 1;
                    }

                    console.log('\n');

                }

                if( playerPoints > compPoints){
                    console.log('Player won the game!');
                }

                if( playerPoints < compPoints){
                    console.log('Computer won the game!');
                }

                if( playerPoints == compPoints ){
                    console.log('Game is a tie!');
                }

            }

            let gameRound = prompt('Enter how many rounds you want to play.');
            game(gameRound);

        </script>

    </body>

</html>