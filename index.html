<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
    </head>
</html>

    <body>
        
        <script>

            function computerSelection(){                               //returns 'rock', 'paper', or 'scissors' randomly.

                return computerSelection = Math.floor(Math.random()*3) + 1;                
            }


            function playerSelection(){                                 //player selects 'rock', 'paper', or 'scissors' - function returns corresponding #

                let userInput;
                let userInputLower;
                let userInputVal;
                let retryFlag;
                
                userInput = prompt('Enter Rock, Paper, or Scissors.');
                userInputLower = userInput.toLowerCase();   

                switch(userInputLower){
                    case 'rock':
                        userInputVal = 1;
                        break;

                    case 'paper':
                        userInputVal = 2;
                        break;

                    case 'scissors':
                        userInputVal = 3;
                        break;

                    default:
                        console.log('Invalid entry. Try again!');
                        return playerSelection();                       //call the function again until the user gets the input right
                }

                return userInputVal;
            }



            function rockPaperScissors(p1,p2){

                let playerIn = p1;
                let computerIn = p2;

                if ( (playerIn == 1) && (computerIn == 2) ){
                    return 'Computer is the winner - Paper beats Rock';
                } 

                else if ( (playerIn == 1) && (computerIn == 3) ){
                    return 'Player is the winner - Rock beats Scissors';
                }

                else if ( (playerIn == 2) && (computerIn == 1) ){
                    return 'Player is the winner - Paper beats Rock';
                } 

                else if ( (playerIn == 2) && (computerIn == 3) ){
                    return 'Computer is the winner - Scissors beats Paper';
                } 

                else if ( (playerIn == 3) && (computerIn == 1) ){
                    return 'Computer is the winner - Rock beats Scissors';
                } 

                else if ( (playerIn == 3) && (computerIn == 2) ){
                    return 'Player is the winner - Scissors beat Paper';
                }

                else {
                    return 'Match is a tie, play again!';
                }

            }
                            
            
            let userIn = playerSelection();                             //get the player selection and display it
            console.log('Player Selection is: ' + userIn);

            let compIn = computerSelection();
            console.log('Computer Selection is: ' + compIn);            //get the computer selection and display it

            console.log(rockPaperScissors(userIn,compIn));              //play a round of the game

        </script>

    </body>

</html>